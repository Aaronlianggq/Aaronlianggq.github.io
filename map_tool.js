var __googleMap = null;
var __markerMap = null;     //点击出现的marker
var __currentMarkersRectangle = null ;  //当前选择的矩形recrtangle

let MapSeletcedType = {
    MAP_SELECTED_TYPE : 1,      //点击 显示矩形4个坐标
    MAP_CIRCLEDRAGED_TYPE : 2   //拖动鼠标 显示一个矩形
}
//点击类型
var __currentMapSelectedType = MapSeletcedType.MAP_SELECTED_TYPE;
//肯定在国外
let outOfChinaLocations = [[{lng:73.30455816662322,lat:49.50513998118465},{lng:104.32994879162322,lat:20.72720703967441}],
                           [{lng:103.18737066662322,lat:53.7564180980579},{lng:135.39928472912322,lat:39.90973623453719}],
                           [{lng:103.71471441662322,lat:40.52370834017445},{lng:125.51158941662322,lat:3.087711313556287}]
                          ];
//肯定在国外 周边国家
let inNeighbouringLocations = [[{lng:103.83999840787146,lat:21.58379467508058},{lng:107.81982421875,lat:8.298470297067356}],
                                [{lng:107.46548668912146,lat:15.52557300664021},{lng:109.4677734375,lat:10.401377554543553}],
                                [{lng:118.90991719091562,lat:11.73590536561523},{lng:120.36011250341562,lat:8.926068525427345}],
                                [{lng:117.94312031591562,lat:10.074626718324973},{lng:119.08569844091562,lat:8.687218968168109}],
                                [{lng:114.78760762514435,lat:5.965456918358073},{lng:119.87427754701935,lat:2.9537147217972026}],
                                [{lng:117.0953429276816,lat:9.06317820122365},{lng:118.0511534745566,lat:8.069156257051656}],
                                [{lng:119.85806481412146,lat:18.59200713746655},{lng:125.79345703125,lat:4.959615024698026}]
                               ];

let outOfHongKong = [[{lng:113.80191882556016,lat:22.57108712522987},{lng:114.5180900902086,lat:22.13099286534101}]];

let outOfMaCao = [[{lng:113.52507683196495,lat:22.21885600107677},{lng:113.63777160644531,lat:22.062914099373374}]];

//在台湾
let inTaiWangRectLocations = [[{lng:120.037185535647,lat:24.68406202041132},{lng:121.7709013559595,lat:21.76958293635786}],
                          [{lng:120.5128447153345,lat:25.722840412605304},{lng:122.105036328125,lat:23.410208054340263}],
                          [{lng:119.40780819348561,lat:23.850601251895696},{lng:120.63827694348561,lat:22.837508078508394}],
                         ];
//肯定在国内
let inChinaRectLocations = [[{lng:83.0218382716439,lat:46.81883250851291},{lng:90.51099999999997,lat:29.693}],
                        [{lng:79.83573921923767,lat:41.60434644591114},{lng:122.99003609423767,lat:31.01197591802933}],
                        [{lng:90.38261421923767,lat:42.61495524898929},{lng:98.8330078125,lat:28.436324855072364}],
                        [{lng:98.86133811592754,lat:31.583974506304646},{lng:122.48024436592754,lat:23.40862420323543}],
                        [{lng:108.10869265832412,lat:42.392344857973114},{lng:119.267578125,lat:18.104745071027132}],
                        [{lng:110.3489274355012,lat:18.145851771694467},{lng:118.8195063299795,lat:11.424283632889011}],
                        [{lng:109.88750504793234,lat:10.584472350277492},{lng:114.697265625,lat:6.009459238059563}],
                        [{lng:120.13359078173767,lat:49.35124519946141},{lng:129.287109375,lat:42.46925409881765}]
                       ];

//中国边
let inChinaLocations = [{"lng":79.035,"lat":34.334},{"lat":34.14711,"lng":78.90349},{"lat":34.07594,"lng":78.65372},{"lng":78.743,"lat":34.0},{"lng":78.764,"lat":33.72},{"lng":78.679,"lat":33.666},{"lng":78.836,"lat":33.426},{"lng":79.027,"lat":33.32},{"lng":79.163,"lat":33.168},{"lng":79.252,"lat":32.944},{"lng":79.292,"lat":32.599},{"lng":79.251,"lat":32.519},{"lng":78.969,"lat":32.337},{"lng":78.808,"lat":32.437},{"lng":78.744,"lat":32.706},{"lng":78.394,"lat":32.538},{"lng":78.51,"lat":32.303},{"lng":78.455,"lat":32.148},{"lng":78.769,"lat":31.927},{"lng":78.649,"lat":31.825},{"lng":78.846,"lat":31.605},{"lng":78.751,"lat":31.363},{"lng":78.992,"lat":31.15},{"lng":79.008,"lat":31.043},{"lng":79.223,"lat":30.954},{"lng":79.324,"lat":31.027},{"lng":79.758,"lat":30.943},{"lng":80.036,"lat":30.634},{"lng":80.347,"lat":30.521},{"lng":80.607,"lat":30.469},{"lng":80.834,"lat":30.313},{"lng":81.032,"lat":30.247},{"lng":81.092,"lat":30.053},{"lng":81.272,"lat":30.045},{"lng":81.396,"lat":30.208},{"lng":81.409,"lat":30.419},{"lng":81.633,"lat":30.445},{"lng":81.997,"lat":30.321},{"lng":82.244,"lat":30.076},{"lng":82.563,"lat":29.954},{"lng":82.763,"lat":29.731},{"lng":82.934,"lat":29.705},{"lng":83.258,"lat":29.578},{"lng":83.445,"lat":29.298},{"lng":83.63,"lat":29.16},{"lng":83.815,"lat":29.301},{"lng":84.12,"lat":29.278},{"lng":84.245,"lat":29.042},{"lng":84.228,"lat":28.893},{"lng":84.628,"lat":28.736},{"lng":84.857,"lat":28.571},{"lng":85.06,"lat":28.682},{"lng":85.198,"lat":28.622},{"lng":85.106,"lat":28.347},{"lng":85.379,"lat":28.28},{"lng":85.661,"lat":28.303},{"lng":85.848,"lat":28.183},{"lng":85.999,"lat":27.913},{"lng":86.226,"lat":27.982},{"lng":86.442,"lat":27.907},{"lng":86.603,"lat":28.103},{"lng":86.748,"lat":28.096},{"lng":87.124,"lat":27.835},{"lng":87.583,"lat":27.857},{"lng":87.733,"lat":27.808},{"lng":87.832,"lat":27.952},{"lng":88.113,"lat":27.868},{"lng":88.187,"lat":27.945},{"lng":88.413,"lat":27.982},{"lng":88.622,"lat":28.109},{"lng":88.837,"lat":28.014},{"lng":88.883,"lat":27.89},{"lng":88.778,"lat":27.466},{"lng":88.97,"lat":27.226},{"lng":89.178,"lat":27.376},{"lng":89.096,"lat":27.474},{"lng":89.236,"lat":27.8},{"lng":89.371,"lat":27.874},{"lng":89.602,"lat":28.165},{"lng":89.827,"lat":28.24},{"lng":90.042,"lat":28.138},{"lng":90.161,"lat":28.191},{"lng":90.375,"lat":28.067},{"lng":90.589,"lat":28.024},{"lng":90.725,"lat":28.069},{"lng":91.03,"lat":27.86},{"lng":91.309,"lat":28.061},{"lng":91.593,"lat":27.906},{"lng":91.63,"lat":27.703},{"lng":91.595,"lat":27.538},{"lng":92.041,"lat":27.433},{"lng":92.025,"lat":27.116},{"lng":92.167,"lat":26.854},{"lng":92.667,"lat":26.956},{"lng":93.058,"lat":26.889},{"lng":93.611,"lat":26.951},{"lng":93.816,"lat":27.021},{"lng":93.86,"lat":27.178},{"lng":94.267,"lat":27.579},{"lng":94.521,"lat":27.6},{"lng":95.279,"lat":27.937},{"lng":95.439,"lat":28.166},{"lng":95.87,"lat":28.299},{"lng":95.984,"lat":28.199},{"lng":96.275,"lat":28.231},{"lng":96.425,"lat":28.164},{"lng":96.654,"lat":27.973},{"lng":97.049,"lat":27.816},{"lng":97.412,"lat":28.017},{"lng":97.312,"lat":28.093},{"lng":97.566,"lat":28.545},{"lng":97.91,"lat":28.368},{"lng":98.139,"lat":28.146},{"lng":98.234,"lat":27.694},{"lng":98.316,"lat":27.525},{"lng":98.444,"lat":27.669},{"lng":98.703,"lat":27.564},{"lng":98.696,"lat":27.213},{"lng":98.762,"lat":26.802},{"lng":98.735,"lat":26.187},{"lng":98.494,"lat":25.811},{"lng":98.408,"lat":25.611},{"lng":98.303,"lat":25.551},{"lng":97.948,"lat":25.223},{"lng":97.839,"lat":25.274},{"lng":97.718,"lat":25.016},{"lng":97.7,"lat":24.841},{"lng":97.569,"lat":24.721},{"lng":97.539,"lat":24.439},{"lng":97.669,"lat":24.455},{"lng":97.739,"lat":24.292},{"lng":97.729,"lat":24.12},{"lng":97.531,"lat":23.928},{"lng":97.643,"lat":23.851},{"lng":98.045,"lat":24.075},{"lng":98.544,"lat":24.131},{"lng":98.856,"lat":24.134},{"lng":98.682,"lat":23.915},{"lng":98.882,"lat":23.593},{"lng":98.945,"lat":23.31},{"lng":98.884,"lat":23.193},{"lng":99.114,"lat":23.094},{"lng":99.359,"lat":23.127},{"lng":99.511,"lat":23.084},{"lng":99.535,"lat":22.901},{"lng":99.325,"lat":22.752},{"lng":99.386,"lat":22.575},{"lng":99.177,"lat":22.177},{"lng":99.36,"lat":22.095},{"lng":99.476,"lat":22.136},{"lng":99.999,"lat":21.975},{"lng":99.984,"lat":21.718},{"lng":100.246,"lat":21.467},{"lng":100.429,"lat":21.541},{"lng":100.577,"lat":21.45},{"lng":100.728,"lat":21.517},{"lng":100.883,"lat":21.688},{"lng":101.088,"lat":21.777},{"lng":101.286,"lat":21.176},{"lng":101.529,"lat":21.255},{"lng":101.76,"lat":21.143},{"lng":101.727,"lat":21.351},{"lng":101.834,"lat":21.626},{"lng":101.772,"lat":21.818},{"lng":101.636,"lat":21.955},{"lng":101.55,"lat":22.231},{"lng":101.673,"lat":22.468},{"lng":101.864,"lat":22.39},{"lng":102.022,"lat":22.457},{"lng":102.248,"lat":22.459},{"lng":102.458,"lat":22.766},{"lng":102.858,"lat":22.61},{"lng":102.931,"lat":22.485},{"lng":103.07,"lat":22.448},{"lng":103.32,"lat":22.781},{"lng":103.527,"lat":22.596},{"lng":103.639,"lat":22.796},{"lng":103.962,"lat":22.507},{"lng":104.115,"lat":22.812},{"lng":104.399,"lat":22.701},{"lng":104.577,"lat":22.853},{"lng":104.735,"lat":22.827},{"lng":104.865,"lat":22.955},{"lng":104.805,"lat":23.118},{"lng":105.223,"lat":23.27},{"lng":105.326,"lat":23.392},{"lng":105.542,"lat":23.194},{"lng":105.872,"lat":22.934},{"lng":106.202,"lat":22.986},{"lng":106.278,"lat":22.87},{"lng":106.605,"lat":22.927},{"lng":106.777,"lat":22.817},{"lng":106.708,"lat":22.58},{"lng":106.56,"lat":22.467},{"lng":106.66,"lat":22.335},{"lng":106.737,"lat":22.008},{"lng":107.062,"lat":21.898},{"lng":107.084,"lat":21.809},{"lng":107.385,"lat":21.598},{"lng":107.67,"lat":21.605},{"lng":107.857,"lat":21.654},{"lng":107.951,"lat":21.542},{"lat":17.94248,"lng":108.11697},{"lat":16.26371,"lng":109.23157},{"lat":15.27317,"lng":109.91212},{"lat":11.83938,"lng":110.33964},{"lat":10.41522,"lng":109.59377},{"lat":9.01844,"lng":108.71684},{"lat":7.63724,"lng":108.35223},{"lat":6.91241,"lng":108.20911},{"lat":6.07168,"lng":108.26211},{"lat":4.55024,"lng":109.28495},{"lat":3.60371,"lng":110.223},{"lat":3.4128,"lng":110.93054},{"lng":111.68396,"lat":3.3987},{"lat":3.53801,"lng":112.34409},{"lat":3.81424,"lng":112.96057},{"lat":5.37796,"lng":114.22674},{"lat":6.23425,"lng":114.93811},{"lat":7.17477,"lng":115.55291},{"lat":8.47696,"lng":116.5537},{"lat":9.54675,"lng":117.51183},{"lat":10.90327,"lng":118.48995},{"lat":11.41563,"lng":118.78517},{"lat":12.09958,"lng":118.96288},{"lat":14.98894,"lng":119.02768},{"lat":16.00873,"lng":119.05201},{"lat":18.02971,"lng":119.4219},{"lat":18.98678,"lng":119.97645},{"lat":20.83868,"lng":121.13457},{"lat":21.74599,"lng":121.9358},{"lat":23.66579,"lng":122.62939},{"lat":25.2712,"lng":122.905},{"lat":25.91035,"lng":123.70837},{"lat":26.53939,"lng":123.73867},{"lat":27.90975,"lng":123.60808},{"lat":30.63437,"lng":123.5198},{"lat":32.67825,"lng":123.2266},{"lat":34.72807,"lng":123.11399},{"lat":36.9632,"lng":123.36754},{"lng":124.341,"lat":40.078},{"lng":124.732,"lat":40.367},{"lng":125.177,"lat":40.612},{"lng":125.417,"lat":40.675},{"lng":125.703,"lat":40.866},{"lng":125.95,"lat":40.879},{"lng":126.119,"lat":41.09},{"lng":126.27,"lat":41.155},{"lng":126.488,"lat":41.373},{"lng":126.561,"lat":41.619},{"lng":126.84,"lat":41.725},{"lng":126.925,"lat":41.811},{"lng":127.169,"lat":41.537},{"lng":127.346,"lat":41.461},{"lng":127.542,"lat":41.475},{"lng":127.638,"lat":41.408},{"lng":127.964,"lat":41.436},{"lng":128.109,"lat":41.361},{"lng":128.31,"lat":41.589},{"lng":128.104,"lat":41.796},{"lng":128.085,"lat":42.02},{"lng":128.908,"lat":42.01},{"lng":129.206,"lat":42.206},{"lng":129.362,"lat":42.457},{"lng":129.495,"lat":42.413},{"lng":129.744,"lat":42.471},{"lng":129.759,"lat":42.707},{"lng":129.877,"lat":42.992},{"lng":130.271,"lat":42.892},{"lng":130.236,"lat":42.739},{"lng":130.531,"lat":42.539},{"lng":130.616,"lat":42.629},{"lng":130.459,"lat":42.77},{"lng":130.66,"lat":42.846},{"lng":130.884,"lat":42.851},{"lng":131.109,"lat":42.913},{"lng":131.201,"lat":43.129},{"lng":131.297,"lat":43.5},{"lng":131.21,"lat":43.833},{"lng":131.303,"lat":44.043},{"lng":131.104,"lat":44.708},{"lng":130.965,"lat":44.818},{"lng":131.152,"lat":44.946},{"lng":131.426,"lat":44.967},{"lng":131.678,"lat":45.113},{"lng":131.88,"lat":45.34},{"lng":132.004,"lat":45.252},{"lng":132.945,"lat":45.023},{"lng":133.13,"lat":45.129},{"lng":133.089,"lat":45.283},{"lng":133.222,"lat":45.51},{"lng":133.386,"lat":45.578},{"lng":133.506,"lat":45.889},{"lng":133.585,"lat":45.867},{"lng":133.915,"lat":46.273},{"lng":133.842,"lat":46.476},{"lng":134.001,"lat":46.632},{"lng":134.02,"lat":46.809},{"lng":134.15,"lat":47.253},{"lng":134.308,"lat":47.431},{"lng":134.562,"lat":47.478},{"lng":134.775,"lat":47.738},{"lng":134.544,"lat":47.985},{"lng":134.719,"lat":48.282},{"lng":134.504,"lat":48.424},{"lng":134.184,"lat":48.383},{"lng":133.739,"lat":48.254},{"lng":133.553,"lat":48.113},{"lng":133.039,"lat":48.108},{"lng":132.8,"lat":47.927},{"lng":132.654,"lat":47.927},{"lng":132.597,"lat":47.734},{"lng":131.992,"lat":47.706},{"lng":131.843,"lat":47.67},{"lng":131.547,"lat":47.728},{"lng":131.23,"lat":47.731},{"lng":131.024,"lat":47.687},{"lng":130.863,"lat":47.935},{"lng":130.663,"lat":48.125},{"lng":130.834,"lat":48.296},{"lng":130.539,"lat":48.602},{"lng":130.616,"lat":48.792},{"lng":130.434,"lat":48.906},{"lng":130.212,"lat":48.891},{"lng":129.935,"lat":49.03},{"lng":129.706,"lat":49.293},{"lng":129.556,"lat":49.293},{"lng":129.426,"lat":49.443},{"lng":129.306,"lat":49.358},{"lng":129.071,"lat":49.356},{"lng":129.011,"lat":49.454},{"lng":128.739,"lat":49.484},{"lng":128.542,"lat":49.603},{"lng":128.173,"lat":49.535},{"lng":127.811,"lat":49.586},{"lng":127.641,"lat":49.778},{"lng":127.523,"lat":49.82},{"lng":127.501,"lat":50.067},{"lng":127.605,"lat":50.237},{"lng":127.326,"lat":50.334},{"lng":127.366,"lat":50.574},{"lng":127.118,"lat":50.929},{"lng":126.917,"lat":51.058},{"lng":126.972,"lat":51.293},{"lng":126.839,"lat":51.525},{"lng":126.705,"lat":51.569},{"lng":126.71,"lat":51.728},{"lng":126.49,"lat":51.929},{"lng":126.552,"lat":52.134},{"lng":126.296,"lat":52.206},{"lng":126.328,"lat":52.417},{"lng":126.168,"lat":52.556},{"lng":125.967,"lat":52.614},{"lng":125.978,"lat":52.756},{"lng":125.728,"lat":52.942},{"lng":125.617,"lat":53.078},{"lng":125.203,"lat":53.194},{"lng":124.971,"lat":53.195},{"lng":124.835,"lat":53.139},{"lng":124.429,"lat":53.22},{"lng":124.229,"lat":53.378},{"lng":124.117,"lat":53.346},{"lng":123.853,"lat":53.489},{"lng":123.535,"lat":53.553},{"lng":123.26,"lat":53.56},{"lng":122.889,"lat":53.461},{"lng":122.42,"lat":53.444},{"lng":122.354,"lat":53.496},{"lng":122.091,"lat":53.421},{"lng":121.871,"lat":53.427},{"lng":121.493,"lat":53.334},{"lng":121.221,"lat":53.279},{"lng":120.825,"lat":53.271},{"lng":120.289,"lat":52.868},{"lng":120.092,"lat":52.786},{"lng":120.07,"lat":52.584},{"lng":120.465,"lat":52.65},{"lng":120.681,"lat":52.547},{"lng":120.621,"lat":52.322},{"lng":120.774,"lat":52.166},{"lng":120.655,"lat":51.931},{"lng":120.472,"lat":51.884},{"lng":120.167,"lat":51.679},{"lng":120.092,"lat":51.68},{"lng":119.963,"lat":51.399},{"lng":119.804,"lat":51.28},{"lng":119.716,"lat":51.047},{"lng":119.515,"lat":50.905},{"lng":119.499,"lat":50.763},{"lng":119.378,"lat":50.681},{"lng":119.187,"lat":50.348},{"lng":119.367,"lat":50.311},{"lng":119.276,"lat":50.105},{"lng":119.084,"lat":49.984},{"lng":118.567,"lat":49.93},{"lng":118.073,"lat":49.613},{"lng":117.801,"lat":49.517},{"lng":117.471,"lat":49.627},{"lng":117.057,"lat":49.686},{"lng":116.714,"lat":49.846},{"lng":116.034,"lat":48.866},{"lng":116.07,"lat":48.816},{"lng":115.788,"lat":48.524},{"lng":115.813,"lat":48.257},{"lng":115.522,"lat":48.153},{"lng":115.574,"lat":47.92},{"lng":115.935,"lat":47.681},{"lng":116.259,"lat":47.878},{"lng":116.443,"lat":47.839},{"lng":116.869,"lat":47.893},{"lng":117.085,"lat":47.823},{"lng":117.375,"lat":47.64},{"lng":117.804,"lat":48.014},{"lng":118.229,"lat":48.041},{"lng":118.559,"lat":47.993},{"lng":118.758,"lat":47.774},{"lng":119.123,"lat":47.665},{"lng":119.143,"lat":47.542},{"lng":119.361,"lat":47.478},{"lng":119.372,"lat":47.398},{"lng":119.709,"lat":47.194},{"lng":119.787,"lat":47.023},{"lng":119.921,"lat":46.902},{"lng":119.904,"lat":46.667},{"lng":119.379,"lat":46.606},{"lng":119.103,"lat":46.647},{"lng":119.009,"lat":46.747},{"lng":118.578,"lat":46.693},{"lng":118.3,"lat":46.736},{"lng":117.833,"lat":46.534},{"lng":117.588,"lat":46.603},{"lng":117.415,"lat":46.58},{"lng":117.37,"lat":46.361},{"lng":116.834,"lat":46.384},{"lng":116.658,"lat":46.321},{"lng":116.401,"lat":46.124},{"lng":116.264,"lat":45.961},{"lng":116.28,"lat":45.771},{"lng":116.027,"lat":45.681},{"lng":115.69,"lat":45.459},{"lng":115.356,"lat":45.389},{"lng":114.974,"lat":45.376},{"lng":114.737,"lat":45.437},{"lng":114.541,"lat":45.385},{"lng":114.343,"lat":45.121},{"lng":114.055,"lat":44.927},{"lng":113.9,"lat":44.91},{"lng":113.628,"lat":44.743},{"lng":112.846,"lat":44.839},{"lng":112.593,"lat":44.93},{"lng":112.423,"lat":45.075},{"lng":111.996,"lat":45.09},{"lng":111.767,"lat":44.978},{"lng":111.619,"lat":44.778},{"lng":111.563,"lat":44.575},{"lng":111.423,"lat":44.394},{"lng":111.6,"lat":44.116},{"lng":111.867,"lat":43.938},{"lng":111.947,"lat":43.691},{"lng":111.787,"lat":43.67},{"lng":111.6,"lat":43.51},{"lng":111.062,"lat":43.355},{"lng":110.433,"lat":42.78},{"lng":110.133,"lat":42.671},{"lng":109.899,"lat":42.633},{"lng":109.535,"lat":42.471},{"lng":109.284,"lat":42.435},{"lng":109.018,"lat":42.457},{"lng":108.84,"lat":42.397},{"lng":108.245,"lat":42.463},{"lng":107.93,"lat":42.403},{"lng":107.568,"lat":42.411},{"lng":107.46,"lat":42.458},{"lng":107.265,"lat":42.362},{"lng":106.784,"lat":42.29},{"lng":105.717,"lat":41.938},{"lng":105.29,"lat":41.748},{"lng":105.007,"lat":41.582},{"lng":104.917,"lat":41.654},{"lng":104.518,"lat":41.661},{"lng":104.525,"lat":41.875},{"lng":104.074,"lat":41.804},{"lng":103.855,"lat":41.8},{"lng":103.413,"lat":41.882},{"lng":102.709,"lat":42.152},{"lng":102.446,"lat":42.145},{"lng":102.077,"lat":42.225},{"lng":101.8,"lat":42.504},{"lng":101.567,"lat":42.526},{"lng":100.849,"lat":42.672},{"lng":100.318,"lat":42.687},{"lng":100.268,"lat":42.636},{"lng":99.969,"lat":42.648},{"lng":99.504,"lat":42.566},{"lng":98.196,"lat":42.653},{"lng":97.172,"lat":42.795},{"lng":96.978,"lat":42.754},{"lng":96.388,"lat":42.725},{"lng":96.363,"lat":42.899},{"lng":95.909,"lat":43.236},{"lng":95.857,"lat":43.414},{"lng":95.523,"lat":44.005},{"lng":95.323,"lat":44.026},{"lng":95.404,"lat":44.295},{"lng":94.999,"lat":44.251},{"lng":94.713,"lat":44.345},{"lng":94.603,"lat":44.447},{"lng":94.361,"lat":44.515},{"lng":94.211,"lat":44.668},{"lng":93.504,"lat":44.968},{"lng":92.774,"lat":45.045},{"lng":92.485,"lat":45.0},{"lng":92.235,"lat":45.013},{"lng":92.095,"lat":45.077},{"lng":91.616,"lat":45.068},{"lng":91.428,"lat":45.156},{"lng":91.238,"lat":45.137},{"lng":91.124,"lat":45.214},{"lng":90.934,"lat":45.193},{"lng":90.77,"lat":45.428},{"lng":90.67,"lat":45.487},{"lng":90.715,"lat":45.727},{"lng":91.022,"lat":46.023},{"lng":90.892,"lat":46.312},{"lng":91.073,"lat":46.561},{"lng":91.044,"lat":46.706},{"lng":90.902,"lat":46.957},{"lng":90.732,"lat":47.026},{"lng":90.489,"lat":47.325},{"lng":90.471,"lat":47.49},{"lng":90.371,"lat":47.653},{"lng":89.942,"lat":47.831},{"lng":89.76,"lat":47.837},{"lng":89.582,"lat":48.031},{"lng":89.063,"lat":47.988},{"lng":88.935,"lat":48.109},{"lng":88.638,"lat":48.179},{"lng":88.606,"lat":48.326},{"lng":88.253,"lat":48.499},{"lng":87.969,"lat":48.576},{"lng":88.068,"lat":48.681},{"lng":87.735,"lat":48.881},{"lng":87.877,"lat":49.015},{"lng":87.815,"lat":49.171},{"lng":87.493,"lat":49.139},{"lng":87.427,"lat":49.071},{"lng":87.2,"lat":49.144},{"lng":86.896,"lat":49.134},{"lng":86.727,"lat":48.987},{"lng":86.818,"lat":48.832},{"lng":86.591,"lat":48.544},{"lng":86.226,"lat":48.432},{"lng":85.908,"lat":48.436},{"lng":85.713,"lat":48.361},{"lng":85.554,"lat":48.14},{"lng":85.543,"lat":48.01},{"lng":85.614,"lat":47.539},{"lng":85.684,"lat":47.428},{"lng":85.686,"lat":47.231},{"lng":85.533,"lat":47.07},{"lng":85.3,"lat":47.065},{"lng":84.941,"lat":46.865},{"lng":84.759,"lat":47.005},{"lng":83.984,"lat":46.996},{"lng":83.917,"lat":46.973},{"lng":83.56,"lat":47.061},{"lng":83.362,"lat":47.174},{"lng":83.031,"lat":47.223},{"lng":82.992,"lat":47.064},{"lng":82.786,"lat":46.682},{"lng":82.725,"lat":46.493},{"lng":82.513,"lat":46.159},{"lng":82.456,"lat":45.977},{"lng":82.335,"lat":45.939},{"lng":82.28,"lat":45.535},{"lng":82.543,"lat":45.421},{"lng":82.581,"lat":45.22},{"lng":82.474,"lat":45.177},{"lng":82.267,"lat":45.241},{"lng":81.923,"lat":45.229},{"lng":81.774,"lat":45.386},{"lng":81.452,"lat":45.262},{"lng":81.203,"lat":45.237},{"lng":80.9,"lat":45.13},{"lng":80.462,"lat":45.113},{"lng":80.383,"lat":45.041},{"lng":80.089,"lat":45.046},{"lng":79.882,"lat":44.91},{"lng":80.018,"lat":44.794},{"lng":80.129,"lat":44.824},{"lng":80.397,"lat":44.629},{"lng":80.347,"lat":44.483},{"lng":80.521,"lat":43.82},{"lng":80.752,"lat":43.465},{"lng":80.791,"lat":43.158},{"lng":80.37438,"lat":43.02901},{"lng":80.58739,"lat":42.89103},{"lng":80.259,"lat":42.829},{"lng":80.162,"lat":42.626},{"lng":80.283,"lat":42.32},{"lat":42.22327,"lng":80.27282},{"lng":80.168,"lat":42.207},{"lng":80.143,"lat":42.035},{"lng":79.883,"lat":42.034},{"lng":79.77,"lat":41.89},{"lng":79.325,"lat":41.81},{"lng":79.218,"lat":41.725},{"lng":78.942,"lat":41.646},{"lng":78.643,"lat":41.47},{"lng":78.381,"lat":41.393},{"lng":78.161,"lat":41.382},{"lng":78.135,"lat":41.245},{"lng":77.834,"lat":41.152},{"lng":77.642,"lat":41.011},{"lng":77.275,"lat":41.002},{"lng":76.961,"lat":41.057},{"lng":76.753,"lat":40.951},{"lng":76.654,"lat":40.622},{"lng":76.536,"lat":40.464},{"lng":76.362,"lat":40.382},{"lng":75.972,"lat":40.381},{"lng":75.928,"lat":40.301},{"lng":75.661,"lat":40.364},{"lat":40.48276,"lng":75.69532},{"lng":75.582,"lat":40.661},{"lng":75.236,"lat":40.447},{"lng":74.988,"lat":40.452},{"lng":74.843,"lat":40.52},{"lng":74.791,"lat":40.353},{"lng":74.591,"lat":40.281},{"lng":74.336,"lat":40.094},{"lng":74.041,"lat":40.099},{"lng":73.851,"lat":39.838},{"lng":73.957,"lat":39.602},{"lng":73.875,"lat":39.482},{"lng":73.601,"lat":39.459},{"lng":73.49,"lat":39.383},{"lng":73.747,"lat":39.027},{"lat":38.98658,"lng":73.83807},{"lng":73.711,"lat":38.896},{"lng":73.804,"lat":38.611},{"lng":74.041,"lat":38.544},{"lng":74.123,"lat":38.663},{"lng":74.399,"lat":38.661},{"lng":74.636,"lat":38.595},{"lng":74.864,"lat":38.473},{"lng":74.79,"lat":38.271},{"lng":74.817,"lat":38.098},{"lng":74.917,"lat":38.026},{"lat":37.83185,"lng":74.92512},{"lng":74.92294,"lat":37.56824},{"lng":75.1,"lat":37.486},{"lng":75.127,"lat":37.336},{"lng":74.81,"lat":37.217},{"lng":74.506,"lat":37.242},{"lat":37.12628,"lng":74.47069},{"lng":74.566,"lat":37.036},{"lng":74.696,"lat":37.093},{"lng":74.883,"lat":36.96},{"lng":75.141,"lat":37.028},{"lng":75.423,"lat":36.889},{"lng":75.448,"lat":36.728},{"lng":75.672,"lat":36.766},{"lng":75.936,"lat":36.602},{"lat":36.31439,"lng":75.99374},{"lat":36.165695,"lng":75.99787},{"lat":36.13068,"lng":75.93432},{"lng":76.002,"lat":36.017},{"lat":35.9591,"lng":76.13764},{"lng":76.15822,"lat":35.82452},{"lng":76.357,"lat":35.828},{"lng":76.513,"lat":35.881},{"lng":76.755,"lat":35.667},{"lng":77.068,"lat":35.597},{"lng":77.382,"lat":35.473},{"lng":77.687,"lat":35.453},{"lng":77.806,"lat":35.521},{"lat":35.4658,"lng":77.90502},{"lat":35.4702,"lng":78.03158},{"lat":35.48877,"lng":78.1331},{"lng":78.014,"lat":35.363},{"lng":78.003,"lat":35.241},{"lng":78.237,"lat":34.88},{"lng":78.203,"lat":34.736},{"lng":78.289,"lat":34.617},{"lng":78.711,"lat":34.523},{"lat":34.39931,"lng":78.86334},{"lng":79.035,"lat":34.334}]

let inMaCaoLocations = [{"lng":113.53284,"lat":22.19695},{"lat":22.20029,"lng":113.53337},{"lng":113.53442,"lat":22.20321},{"lng":113.53502,"lat":22.20444},{"lng":113.53533,"lat":22.20677},{"lng":113.53454,"lat":22.2079},{"lat":22.20948,"lng":113.53398},{"lat":22.21114,"lng":113.53342},{"lng":113.53313,"lat":22.21236},{"lng":113.53411,"lat":22.21312},{"lng":113.53619,"lat":22.21349},{"lng":113.5379,"lat":22.21353},{"lng":113.53974,"lat":22.21324},{"lng":113.5412,"lat":22.21289},{"lng":113.54216,"lat":22.21393},{"lng":113.54282,"lat":22.21536},{"lng":113.54353,"lat":22.21647},{"lng":113.54452,"lat":22.21698},{"lng":113.54615,"lat":22.21687},{"lng":113.54743,"lat":22.21647},{"lng":113.55102,"lat":22.21547},{"lng":113.55461,"lat":22.21447},{"lng":113.56406,"lat":22.21088},{"lng":113.57162,"lat":22.20556},{"lng":113.60293,"lat":22.20073},{"lng":113.61225999999999,"lat":22.18874},{"lng":113.61783,"lat":22.17996},{"lng":113.62721,"lat":22.16493},{"lng":113.63018,"lat":22.15992},{"lng":113.62996,"lat":22.14921},{"lng":113.6287,"lat":22.13688},{"lng":113.62911,"lat":22.11545},{"lng":113.62513,"lat":22.10174},{"lng":113.61915,"lat":22.0903},{"lng":113.61351,"lat":22.08344},{"lng":113.60962,"lat":22.08015},{"lng":113.60339,"lat":22.07544},{"lng":113.59029,"lat":22.07512},{"lng":113.57755,"lat":22.07614},{"lng":113.57262,"lat":22.09098},{"lng":113.56184,"lat":22.10176},{"lng":113.54861,"lat":22.11292},{"lng":113.54894,"lat":22.12277},{"lng":113.54896,"lat":22.13394},{"lng":113.54932,"lat":22.14408},{"lng":113.54565,"lat":22.14918},{"lng":113.54261,"lat":22.15278},{"lat":22.15558,"lng":113.54018},{"lat":22.15842,"lng":113.53839},{"lng":113.53604,"lat":22.16407},{"lng":113.53006,"lat":22.17358},{"lng":113.52775,"lat":22.18219},{"lng":113.52861,"lat":22.19002}]

let inHongKongLocations = [{"lng":114.455,"lat":22.545},{"lng":114.455,"lat":22.469},{"lng":114.502,"lat":22.365},{"lng":114.502,"lat":22.148},{"lng":114.284,"lat":22.148},{"lng":114.255,"lat":22.139},{"lng":114.236,"lat":22.148},{"lng":114,"lat":22.148},{"lng":113.94,"lat":22.148},{"lng":113.922,"lat":22.137},{"lng":113.897,"lat":22.142},{"lng":113.832,"lat":22.184},{"lng":113.817,"lat":22.217},{"lng":113.825,"lat":22.235},{"lng":113.827,"lat":22.239},{"lng":113.839,"lat":22.268},{"lng":113.847,"lat":22.273},{"lng":113.869,"lat":22.333},{"lng":113.869,"lat":22.429},{"lng":113.948,"lat":22.472},{"lng":113.995,"lat":22.51},{"lng":113.997,"lat":22.51},{"lng":113.998,"lat":22.509},{"lng":113.998,"lat":22.509},{"lng":114,"lat":22.509},{"lng":114.001,"lat":22.508},{"lng":114.002,"lat":22.508},{"lng":114.003,"lat":22.507},{"lng":114.005,"lat":22.506},{"lng":114.006,"lat":22.505},{"lng":114.007,"lat":22.504},{"lng":114.01,"lat":22.502},{"lng":114.011,"lat":22.502},{"lng":114.012,"lat":22.502},{"lng":114.013,"lat":22.501},{"lng":114.014,"lat":22.501},{"lng":114.015,"lat":22.502},{"lng":114.016,"lat":22.502},{"lng":114.017,"lat":22.503},{"lng":114.019,"lat":22.503},{"lng":114.02,"lat":22.504},{"lng":114.021,"lat":22.504},{"lng":114.022,"lat":22.505},{"lng":114.023,"lat":22.505},{"lng":114.024,"lat":22.506},{"lng":114.025,"lat":22.506},{"lng":114.026,"lat":22.507},{"lng":114.027,"lat":22.507},{"lng":114.027,"lat":22.506},{"lng":114.03017,"lat":22.50638},{"lng":114.03223,"lat":22.50605},{"lng":114.03565,"lat":22.50549},{"lng":114.03887,"lat":22.50508},{"lng":114.042,"lat":22.504},{"lng":114.043,"lat":22.504},{"lng":114.044,"lat":22.504},{"lng":114.046,"lat":22.503},{"lng":114.047,"lat":22.503},{"lng":114.048,"lat":22.503},{"lng":114.048,"lat":22.502},{"lng":114.049,"lat":22.502},{"lng":114.05,"lat":22.502},{"lng":114.051,"lat":22.502},{"lng":114.052,"lat":22.502},{"lng":114.053,"lat":22.503},{"lng":114.055,"lat":22.503},{"lng":114.056,"lat":22.504},{"lng":114.056,"lat":22.504},{"lng":114.057,"lat":22.505},{"lng":114.057,"lat":22.506},{"lng":114.057,"lat":22.506},{"lng":114.057,"lat":22.508},{"lng":114.058,"lat":22.509},{"lng":114.058,"lat":22.511},{"lng":114.059,"lat":22.512},{"lng":114.059,"lat":22.513},{"lng":114.06,"lat":22.513},{"lng":114.06,"lat":22.514},{"lng":114.062,"lat":22.515},{"lng":114.063,"lat":22.516},{"lng":114.064,"lat":22.516},{"lng":114.065,"lat":22.517},{"lng":114.065,"lat":22.517},{"lng":114.066,"lat":22.517},{"lng":114.066,"lat":22.517},{"lng":114.067,"lat":22.517},{"lng":114.068,"lat":22.517},{"lng":114.068,"lat":22.517},{"lng":114.069,"lat":22.518},{"lng":114.07,"lat":22.518},{"lng":114.071,"lat":22.518},{"lng":114.071,"lat":22.518},{"lng":114.072,"lat":22.518},{"lng":114.072,"lat":22.518},{"lng":114.073,"lat":22.518},{"lng":114.074,"lat":22.517},{"lng":114.075,"lat":22.516},{"lng":114.076,"lat":22.515},{"lng":114.077,"lat":22.515},{"lng":114.078,"lat":22.515},{"lng":114.08,"lat":22.516},{"lng":114.081,"lat":22.517},{"lng":114.083,"lat":22.519},{"lng":114.084,"lat":22.521},{"lng":114.08462,"lat":22.52133},{"lng":114.085,"lat":22.522},{"lng":114.08523,"lat":22.52301},{"lng":114.08456,"lat":22.52427},{"lng":114.08317,"lat":22.52521},{"lng":114.08202,"lat":22.52589},{"lng":114.0812,"lat":22.52622},{"lng":114.08,"lat":22.527},{"lng":114.079,"lat":22.528},{"lng":114.078,"lat":22.529},{"lng":114.0782,"lat":22.52957},{"lng":114.079,"lat":22.53},{"lng":114.08,"lat":22.531},{"lng":114.081,"lat":22.531},{"lng":114.082,"lat":22.531},{"lng":114.08286,"lat":22.53131},{"lng":114.085,"lat":22.532},{"lng":114.085,"lat":22.532},{"lng":114.086,"lat":22.532},{"lng":114.086,"lat":22.533},{"lng":114.087,"lat":22.533},{"lng":114.087,"lat":22.534},{"lng":114.087,"lat":22.534},{"lng":114.088,"lat":22.535},{"lng":114.08822,"lat":22.5357},{"lng":114.089,"lat":22.536},{"lng":114.08973,"lat":22.53625},{"lng":114.09026,"lat":22.53664},{"lng":114.091,"lat":22.537},{"lng":114.092,"lat":22.537},{"lng":114.092,"lat":22.537},{"lng":114.09269,"lat":22.53672},{"lng":114.09329,"lat":22.53628},{"lng":114.094,"lat":22.536},{"lng":114.094,"lat":22.536},{"lng":114.095,"lat":22.535},{"lng":114.096,"lat":22.534},{"lng":114.096,"lat":22.534},{"lng":114.097,"lat":22.534},{"lng":114.097,"lat":22.534},{"lng":114.098,"lat":22.534},{"lng":114.099,"lat":22.534},{"lng":114.1,"lat":22.534},{"lng":114.10078,"lat":22.53429},{"lng":114.102,"lat":22.535},{"lng":114.102,"lat":22.535},{"lng":114.103,"lat":22.535},{"lng":114.103,"lat":22.535},{"lng":114.105,"lat":22.535},{"lng":114.106,"lat":22.534},{"lng":114.106,"lat":22.534},{"lng":114.107,"lat":22.534},{"lng":114.108,"lat":22.535},{"lng":114.108,"lat":22.535},{"lng":114.10827,"lat":22.5356},{"lng":114.10876,"lat":22.5364},{"lng":114.10935,"lat":22.53635},{"lng":114.10965,"lat":22.53562},{"lng":114.10978,"lat":22.53497},{"lng":114.10979,"lat":22.53437},{"lng":114.10983,"lat":22.5336},{"lng":114.10984,"lat":22.53293},{"lng":114.10982,"lat":22.53142},{"lng":114.10924,"lat":22.53099},{"lng":114.10976,"lat":22.53061},{"lng":114.11,"lat":22.53},{"lng":114.11084,"lat":22.52982},{"lng":114.11124,"lat":22.52969},{"lng":114.11203,"lat":22.52949},{"lng":114.11308,"lat":22.52978},{"lng":114.114,"lat":22.53},{"lng":114.114,"lat":22.53},{"lng":114.11463,"lat":22.53026},{"lng":114.1151,"lat":22.53074},{"lng":114.11577,"lat":22.53117},{"lng":114.116,"lat":22.532},{"lng":114.116,"lat":22.532},{"lng":114.116,"lat":22.533},{"lng":114.116,"lat":22.533},{"lng":114.11622,"lat":22.53317},{"lng":114.11669,"lat":22.53386},{"lng":114.11726,"lat":22.53443},{"lng":114.11815,"lat":22.53462},{"lng":114.11866,"lat":22.53478},{"lng":114.11923,"lat":22.53484},{"lng":114.12,"lat":22.535},{"lng":114.12,"lat":22.535},{"lng":114.12,"lat":22.535},{"lng":114.12148,"lat":22.53621},{"lng":114.122,"lat":22.537},{"lng":114.12162,"lat":22.53716},{"lng":114.12228,"lat":22.53778},{"lng":114.12299,"lat":22.53829},{"lng":114.12375,"lat":22.5387},{"lng":114.124,"lat":22.539},{"lng":114.124,"lat":22.539},{"lng":114.12553,"lat":22.53928},{"lng":114.12625,"lat":22.53932},{"lng":114.127,"lat":22.539},{"lng":114.127,"lat":22.539},{"lng":114.127,"lat":22.539},{"lng":114.12815,"lat":22.53968},{"lng":114.12848,"lat":22.53987},{"lng":114.129,"lat":22.54},{"lng":114.129,"lat":22.54},{"lng":114.129,"lat":22.541},{"lng":114.129,"lat":22.541},{"lng":114.12971,"lat":22.54117},{"lng":114.13015,"lat":22.5416},{"lng":114.13045,"lat":22.54188},{"lng":114.13051,"lat":22.54194},{"lng":114.131,"lat":22.542},{"lng":114.131,"lat":22.542},{"lng":114.131,"lat":22.542},{"lng":114.131,"lat":22.542},{"lng":114.13261,"lat":22.54166},{"lng":114.13401,"lat":22.54124},{"lng":114.13428,"lat":22.54135},{"lng":114.135,"lat":22.542},{"lng":114.135,"lat":22.542},{"lng":114.135,"lat":22.542},{"lng":114.135,"lat":22.542},{"lng":114.136,"lat":22.542},{"lng":114.136,"lat":22.542},{"lng":114.136,"lat":22.543},{"lng":114.136,"lat":22.543},{"lng":114.136,"lat":22.543},{"lng":114.136,"lat":22.543},{"lng":114.137,"lat":22.543},{"lng":114.137,"lat":22.543},{"lng":114.137,"lat":22.543},{"lng":114.13729,"lat":22.54339},{"lng":114.13796,"lat":22.54345},{"lng":114.13827,"lat":22.54338},{"lng":114.139,"lat":22.543},{"lng":114.139,"lat":22.543},{"lng":114.139,"lat":22.543},{"lng":114.139,"lat":22.543},{"lng":114.14159,"lat":22.54251},{"lng":114.14186,"lat":22.5424},{"lng":114.142,"lat":22.542},{"lng":114.142,"lat":22.542},{"lng":114.142,"lat":22.542},{"lng":114.144,"lat":22.541},{"lng":114.144,"lat":22.541},{"lng":114.145,"lat":22.541},{"lng":114.145,"lat":22.541},{"lng":114.14602,"lat":22.54117},{"lng":114.14696,"lat":22.54129},{"lng":114.14739,"lat":22.54136},{"lng":114.14843,"lat":22.54165},{"lng":114.14861,"lat":22.54192},{"lng":114.14873,"lat":22.54225},{"lng":114.14852,"lat":22.54269},{"lng":114.14852,"lat":22.54328},{"lng":114.14875,"lat":22.54404},{"lng":114.14917,"lat":22.54469},{"lng":114.14937,"lat":22.54479},{"lng":114.1498,"lat":22.54519},{"lng":114.14991,"lat":22.54538},{"lng":114.15036,"lat":22.54602},{"lng":114.15,"lat":22.548},{"lng":114.14957,"lat":22.54802},{"lng":114.14955,"lat":22.54824},{"lng":114.14956,"lat":22.5486},{"lng":114.14957,"lat":22.54887},{"lng":114.14972,"lat":22.54928},{"lng":114.14981,"lat":22.55005},{"lng":114.14988,"lat":22.55039},{"lng":114.15003,"lat":22.55062},{"lng":114.15041,"lat":22.55078},{"lng":114.15095,"lat":22.55071},{"lng":114.15131,"lat":22.55097},{"lng":114.15164,"lat":22.55141},{"lng":114.15185,"lat":22.55178},{"lng":114.15174,"lat":22.55221},{"lng":114.15175,"lat":22.55246},{"lng":114.15183,"lat":22.55269},{"lng":114.15191,"lat":22.55307},{"lng":114.15183,"lat":22.55346},{"lng":114.15187,"lat":22.55386},{"lng":114.15195,"lat":22.55444},{"lng":114.15207,"lat":22.55479},{"lng":114.15233,"lat":22.55488},{"lng":114.15262,"lat":22.55483},{"lng":114.15282,"lat":22.55469},{"lng":114.15316,"lat":22.55454},{"lng":114.1535,"lat":22.55459},{"lng":114.15392,"lat":22.55453},{"lng":114.15425,"lat":22.55445},{"lng":114.15461,"lat":22.55435},{"lng":114.15525,"lat":22.55478},{"lng":114.15552,"lat":22.55507},{"lng":114.15582,"lat":22.55514},{"lng":114.15614,"lat":22.55499},{"lng":114.1566,"lat":22.55498},{"lng":114.15693,"lat":22.55537},{"lng":114.15708,"lat":22.55599},{"lng":114.15716,"lat":22.55628},{"lng":114.15731,"lat":22.557},{"lng":114.1575,"lat":22.55742},{"lng":114.1577,"lat":22.55775},{"lng":114.158,"lat":22.558},{"lng":114.158,"lat":22.558},{"lng":114.15829,"lat":22.5587},{"lng":114.15874,"lat":22.55918},{"lng":114.15892,"lat":22.55937},{"lng":114.15928,"lat":22.55991},{"lng":114.15947,"lat":22.56025},{"lng":114.16002,"lat":22.56079},{"lng":114.16016,"lat":22.56101},{"lng":114.16062,"lat":22.56148},{"lng":114.1612,"lat":22.56178},{"lng":114.16161,"lat":22.56172},{"lng":114.16189,"lat":22.5616},{"lng":114.16228,"lat":22.56107},{"lng":114.1627,"lat":22.56049},{"lng":114.16302,"lat":22.55961},{"lng":114.1634,"lat":22.5591},{"lng":114.164,"lat":22.559},{"lng":114.164,"lat":22.559},{"lng":114.164,"lat":22.559},{"lng":114.164,"lat":22.559},{"lng":114.16496,"lat":22.55904},{"lng":114.16604,"lat":22.55969},{"lng":114.16654,"lat":22.56021},{"lng":114.16709,"lat":22.56082},{"lng":114.16749,"lat":22.56105},{"lng":114.16803,"lat":22.56113},{"lng":114.16862,"lat":22.56112},{"lng":114.16912,"lat":22.56094},{"lng":114.17001,"lat":22.5599},{"lng":114.17066,"lat":22.55949},{"lng":114.17183,"lat":22.55955},{"lng":114.17284,"lat":22.55936},{"lng":114.17376,"lat":22.55924},{"lng":114.17429,"lat":22.55942},{"lng":114.17482,"lat":22.55975},{"lng":114.17525,"lat":22.55989},{"lng":114.17601,"lat":22.5599},{"lng":114.17655,"lat":22.55977},{"lng":114.17702,"lat":22.55962},{"lng":114.17741,"lat":22.55911},{"lng":114.17754,"lat":22.55857},{"lng":114.17753,"lat":22.55803},{"lng":114.17764,"lat":22.556},{"lng":114.17784,"lat":22.55544},{"lng":114.17832,"lat":22.55523},{"lng":114.17917,"lat":22.55489},{"lng":114.18019,"lat":22.55441},{"lng":114.18094,"lat":22.55401},{"lng":114.181,"lat":22.554},{"lng":114.181,"lat":22.554},{"lng":114.181,"lat":22.554},{"lng":114.18126,"lat":22.55453},{"lng":114.18142,"lat":22.55508},{"move":true,"lng":114.18189,"lat":22.55526},{"lng":114.18302,"lat":22.55524},{"lng":114.1841,"lat":22.55511},{"lng":114.18524,"lat":22.55489},{"lng":114.18604,"lat":22.55477},{"lng":114.18658,"lat":22.55456},{"lng":114.1869,"lat":22.55452},{"lng":114.18745,"lat":22.55493},{"lng":114.18795,"lat":22.55524},{"lng":114.18863,"lat":22.55472},{"lng":114.18914,"lat":22.5541},{"lng":114.18999,"lat":22.55408},{"lng":114.19091,"lat":22.55448},{"lng":114.193,"lat":22.555},{"lng":114.194,"lat":22.555},{"lng":114.194,"lat":22.555},{"lng":114.194,"lat":22.555},{"lng":114.194,"lat":22.555},{"lng":114.19485,"lat":22.55514},{"lng":114.19537,"lat":22.55557},{"lng":114.196,"lat":22.556},{"lng":114.196,"lat":22.556},{"lng":114.197,"lat":22.557},{"lng":114.197,"lat":22.557},{"lng":114.197,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.198,"lat":22.557},{"lng":114.199,"lat":22.557},{"lng":114.20051,"lat":22.55699},{"lng":114.20201,"lat":22.55612},{"lng":114.203,"lat":22.556},{"lng":114.203,"lat":22.556},{"lng":114.203,"lat":22.556},{"lng":114.204,"lat":22.556},{"lng":114.20484,"lat":22.55578},{"lng":114.20535,"lat":22.55543},{"lng":114.20587,"lat":22.55511},{"lng":114.20647,"lat":22.55501},{"lng":114.20741,"lat":22.55486},{"lng":114.20896,"lat":22.55486},{"lng":114.21126,"lat":22.55444},{"lng":114.21211,"lat":22.55415},{"lng":114.21263,"lat":22.55384},{"lng":114.21321,"lat":22.5539},{"lng":114.21386,"lat":22.5537},{"lng":114.21452,"lat":22.55398},{"lng":114.21515,"lat":22.55389},{"lng":114.21571,"lat":22.55364},{"lng":114.21628,"lat":22.55356},{"lng":114.21667,"lat":22.55388},{"lng":114.2177,"lat":22.55404},{"lng":114.21836,"lat":22.55452},{"lng":114.21892,"lat":22.55484},{"lng":114.21924,"lat":22.55469},{"lng":114.21975,"lat":22.55369},{"lng":114.22049,"lat":22.55347},{"lng":114.2208,"lat":22.55297},{"lng":114.22101,"lat":22.55151},{"lng":114.22197,"lat":22.55149},{"lng":114.22262,"lat":22.55121},{"lng":114.22303,"lat":22.55077},{"lng":114.22386,"lat":22.55089},{"lng":114.22429,"lat":22.55077},{"lng":114.22472,"lat":22.54999},{"lng":114.22538,"lat":22.5493},{"lng":114.22608,"lat":22.54852},{"lng":114.22733,"lat":22.54789},{"lng":114.22688,"lat":22.5478},{"lng":114.22651,"lat":22.54699},{"lng":114.2258,"lat":22.54615},{"lng":114.22544,"lat":22.54535},{"lng":114.22558,"lat":22.54509},{"lng":114.22614,"lat":22.5441},{"lng":114.22791,"lat":22.54391},{"lng":114.234,"lat":22.544},{"lng":114.237,"lat":22.551},{"lng":114.249,"lat":22.555},{"lng":114.276,"lat":22.566},{"lng":114.309,"lat":22.567},{"lng":114.333,"lat":22.568},{"lng":114.434,"lat":22.562},{"lng":114.455,"lat":22.545}]

/*
 * 初始化地图
 */
function initGoogleMap() {
  if(!__googleMap) {
    __googleMap = new google.maps.Map(document.getElementById('map'), {
      center: {lat: 37.51479030142635, lng: 105.2039123405109},
      zoom: 5,
    });
    __googleMap.addListener('click', function(e) {
      clearRectMarkers(__currentMarkersRectangle)
      mapClick(e)
    });
    addMapMouseEvent(__googleMap)
  }

  if(__googleMap){
    addPolygon(inChinaLocations)
    let macaoPlg = addPolygon(inMaCaoLocations,true)
    macaoPlg.fillColor = '#B5074F';
    macaoPlg.fillOpacity = 0.2;
    let hkPlg = addPolygon(inHongKongLocations,true)
    hkPlg.fillColor = '#B5074F';
    hkPlg.fillOpacity = 0.2;

    addMapRectangles(outOfChinaLocations,'#FF0000',0)
    addMapRectangles(inNeighbouringLocations,'#FF0000',0)
    addMapRectangles(outOfHongKong,'#FF0000',0)
    addMapRectangles(outOfMaCao,'#FF0000',0)

    addMapRectangles(inChinaRectLocations)
    addMapRectangles(inTaiWangRectLocations,'#2F4F4F')
  }else{
    console.log('__googleMap init error')
  }
}

function addMapMouseEvent(mapKVO){
  mapKVO.addListener('mouseup', function(e) {
    mapMouseUp(e)
  });
  mapKVO.addListener('mousedown', function(e) {
    mapMouseDown(e)
  });
  mapKVO.addListener('mousemove', function(e) {
    mapMouseMove(e)
  });
}

function addPolygon(locations,needToGCJ02) {
  var polygon = new google.maps.Polygon({
    paths: locations,
    strokeColor: '#2F4F4F',
    strokeOpacity: 1.0,
    fillOpacity: 0.0
  });
  polygon.setMap(__googleMap);
  addMapMouseEvent(polygon);
  return polygon
}

/*
 * 加载坐标组区域
 */
function addMapRectangles(rectLocations,rectStrokeColor,rectFillOpacity) {
  console.log(rectLocations.length);
  let strokeColor = rectStrokeColor || '#5555CC'
  var fillOpacity = 0.2
  if(rectFillOpacity != undefined && rectFillOpacity != null){
    fillOpacity = parseFloat(rectFillOpacity)
  }
  for (var i = 0;i < rectLocations.length;i++){
      let coords = rectLocations[i]
      let coord1 = coords[0]
      let coord2 = coords[1]
      //维度
      let lat1 = parseFloat(coord1.lat)
      let lat2 = parseFloat(coord2.lat)
      //经度
      let lng1 = parseFloat(coord1.lng)
      let lng2 = parseFloat(coord2.lng)

      var north,south,east,west
      north = Math.max(lat1,lat2)
      south = Math.min(lat1,lat2)
      east  = Math.max(lng1,lng2)
      west  = Math.min(lng1,lng2)
      //矩形
      var bounds = new Object()
      bounds.north = north
      bounds.south = south
      bounds.east  = east
      bounds.west  = west
      var rectangle = new google.maps.Rectangle({
        strokeColor: strokeColor,
        strokeOpacity: 1,
        strokeWeight: 1.0,
        fillOpacity: fillOpacity,
        map: __googleMap,
        bounds: bounds
      });
      rectangle.ctripBounds = bounds
      bindingRectClick(rectangle)
  }
}


function didMapChangSelectedType(type){
  __currentMapSelectedType = type
  if(__currentMapSelectedType == MapSeletcedType.MAP_CIRCLEDRAGED_TYPE){
    __googleMap.setOptions({
      gestureHandling: 'none'  //不可滑动缩放
    });
  }else if(__currentMapSelectedType == MapSeletcedType.MAP_SELECTED_TYPE) {
    __googleMap.setOptions({
      gestureHandling: 'greedy'
    });
  }
}

/*
 * 鼠标事件
 */
var __isMoved = false
var __isMoveRectangleBegin = false;
var __moveRectangleBeginPosition = null;
var __moveRectangle = null;

function mapMouseDown(e){
  var mouseEvent = e.xa;
  var btnNum = 0; //默认0
  if(mouseEvent){
    btnNum = e.xa.button;//如果有鼠标事件 左键
  }
  if(btnNum == 0 && __currentMapSelectedType == MapSeletcedType.MAP_CIRCLEDRAGED_TYPE){
    __isMoveRectangleBegin = true
    let latlng = e.latLng
    __moveRectangleBeginPosition = {
      lat: latlng.lat(),
      lng: latlng.lng()
    }
  }
}

function mapMouseMove(e){
  addMouseMoveRectangle(e)
}

function mapMouseUp(e){
  addMouseMoveRectangle(e,true)
  //移动结束操作
  if(__moveRectangle && __isMoved){
    let boubds = __moveRectangle.ctripBounds
    let lat = (boubds.north + boubds.south)/2.0
    let lng = (boubds.east + boubds.west)/2.0
    var infowindow = new google.maps.InfoWindow({
      content: '右键移除',
      position: {lat: lat, lng: lng},
    });
    infowindow.open(__googleMap);
    setTimeout(function(){
      infowindow.close()
      infowindow = null
    },2000)
  }

  resetMouseRect()
}

function resetMouseRect(){
  __moveRectangleBeginPosition = null
  __moveRectangle = null
  __isMoveRectangleBegin = false
  __isMoved = false
}

function addMouseMoveRectangle(e,isEnd){
  if(__currentMapSelectedType == MapSeletcedType.MAP_CIRCLEDRAGED_TYPE && __isMoveRectangleBegin){
    let latlng  = e.latLng
    let latMove = latlng.lat()
    let lngMove = latlng.lng()

    if(__moveRectangle){
      __moveRectangle.setMap(null)
      __moveRectangle = null
    }

    var moveBounds = new Object()
    moveBounds.north = Math.max(latMove,__moveRectangleBeginPosition.lat)
    moveBounds.south = Math.min(latMove,__moveRectangleBeginPosition.lat)
    moveBounds.east  = Math.max(lngMove,__moveRectangleBeginPosition.lng)
    moveBounds.west  = Math.min(lngMove,__moveRectangleBeginPosition.lng)
    __moveRectangle = new google.maps.Rectangle({
      strokeColor: '#CC5555',
      strokeOpacity: 1,
      strokeWeight: 1.0,
      fillOpacity: 0.1,
      map: __googleMap,
      zIndex:5,
      bounds: moveBounds
    });
    __moveRectangle.ctripBounds = moveBounds
    bindingRectClick(__moveRectangle,true)

    //移动大于 认为有效
    if(Math.abs(__moveRectangleBeginPosition.lat - latMove) > 0.00002 &&
       Math.abs(__moveRectangleBeginPosition.lng - lngMove) > 0.00002){
      __isMoved = true
    }else {
      __isMoved = false
      if(isEnd){
        __moveRectangle.setMap(null)
        __moveRectangle = null
      }
    }
  }
}

/*
 * 矩形点击事件
 */
function bindingRectClick(rectangle,removeRClick){
  rectangle.addListener('click', function(e) {
      rectangleClick(e,rectangle)
      resetMouseRect()
  });
  if(removeRClick){
    rectangle.addListener('rightclick', function(e) {
        rectangle.setMap(null)
        clearRectMarkers(rectangle)
    });
  }
  addMapMouseEvent(rectangle)
}

function rectangleClick(event,rectangle) {
  clearRectMarkers(__currentMarkersRectangle)
  //
  var bounds = rectangle.ctripBounds
  let north = bounds.north
  let south = bounds.south
  let east  = bounds.east
  let west  = bounds.west

  let rectMarkers = []
  rectMarkers.push(addOneMarker(north,east))
  rectMarkers.push(addOneMarker(north,west))
  rectMarkers.push(addOneMarker(south,east))
  rectMarkers.push(addOneMarker(south,west))
  rectangle.rectMarkers = rectMarkers
  __currentMarkersRectangle = rectangle
  //
  mapClick(event)
}

function clearRectMarkers(rectangle) {
  if(rectangle){
    var rectMarkers =  rectangle.rectMarkers
    if(rectMarkers){
      for (var i = 0; i < rectMarkers.length; i++) {
        rectMarkers[i].setMap(null)
      }
      rectangle.rectMarkers = []
    }
  }
}

/*
 * 地图点击事件显示坐标
 */
function mapClick(event){
  let latlng = event.latLng
  let lat = latlng.lat()
  let lng = latlng.lng()

  if(__markerMap){
    __markerMap.setMap(null)
    __markerMap = null
  }
  __markerMap = addOneMarker(lat,lng)
}

/*
 * 添加marker
 */
function addOneMarker(lat,lng) {
  var postion = {lat: lat, lng: lng};
  var marker = new google.maps.Marker({
    position: postion,
    map: __googleMap
  });
  marker.addListener('click', function() {
    showMarker(marker)
  });
  return marker
}

/*
 * 显示坐标
 */
function showMarker(marker){
  let lat = marker.position.lat()
  let lng = marker.position.lng()
  var infowindow = new google.maps.InfoWindow({
    content: '<div >经度:'+ lng +'</div>' +
             '<div >纬度:'+ lat +'</div>'
  });
  infowindow.open(__googleMap, marker);
}
