<html>
    
<head>
    <title>sdk演示</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, user-scalable=no"/>
    <script type="text/javascript" src="https://static.dongfangfuli.com/info/bridge/1.0/prd/app_bridge.min.js"></script>
    <script language="javascript">

        window.onload = function() {
            document.getElementById('btn3').innerHTML = "userAgent: " + navigator.userAgent
        }

        function openAppScanPage() {
            if (window.dfwAppclass) {
                dfwAppclass.DFWScan.appOpenScan(function(respData){
                    let data = respData["data"] || {}
                    let qrCode = data["resultUrl"] || ""
                    document.getElementById('btn1_1').innerHTML = "扫描结果：" + qrCode
                    console.log(respData)
                });
            }
        }
        
        function getGpsLoc(){
            if (window.dfwAppclass) {
               dfwAppclass.DFWLocation.appGetGpsLoc(function(respData){
             		let data = respData["data"]
                   	let lat = data["latitude"]
                   	let lon = data["longitude"]
                   	if (lat != "" && lon != "") {
                       	document.getElementById('btn2_1').innerHTML = "获取定位信息： \n经度：" + lon + "\n维度：" + lat
                   	}else {
                       	document.getElementById('btn2_1').innerHTML = "获取定位失败"
                   	}
               	})
	    }
       	}

    </script>
    <style type="text/css">
        body {
            background-color: #ffffff;
        }
        .moudle_list {
            margin-top: 10px;
            margin-bottom: 10px;
            width: 100%;
            position: relative;

        }
        .moudle_list_item {
            width: 100%;
            margin-top: 5px;
            padding-left: 5px;
            padding-right: -5px;
            padding-top: 10px;
            padding-bottom: 10px;
            background-color: #EFEFEF;
            color: #099FDE;
            font-size: 16px;
            word-break: break-all;
            overflow: hidden;
            border-radius: 5px;
        }
	.moudle_list_result {
            width: 100%;
            margin-top: 5px;
            padding-left: 5px;
            padding-right: -5px;
            padding-top: 10px;
            padding-bottom: 10px;
            font-size: 14px;
            word-break: break-all;
            overflow: hidden;
            border-radius: 5px;
        }
	    
    </style>
</head>
<body>
    <div>
     <div class="moudle_list"> demo演示
      <div class="moudle_list_item" id="btn3">userAgent: </div>
      <div class="moudle_list_item" id="btn1" onclick="openAppScanPage()" >扫码测试 </div>
      <div class="moudle_list_result" id="btn1_1" ></div>
      <div class="moudle_list_item" id="btn2" onclick="getGpsLoc()" >获取定位信息</div>
      <div class="moudle_list_result" id="btn2_1" ></div>
     </div>
    </div>

</body>


</html>
