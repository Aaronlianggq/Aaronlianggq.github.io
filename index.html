<!-- <script language="javascript">
    (function(open) {
        XMLHttpRequest.prototype.open = function(method, url, async, user, pass) {
            console.log("url = " + url);
            var newUrl = url;
            try {
                if (newUrl.indexOf("//") == 0) {
                    //如果是爽斜杠
                    newUrl = location.protocol + url
                }else if  (newUrl.indexOf("/") == 0) {
                    //如果是单斜杠
                    newUrl = location.protocol + "//" + location.host + url
                }
                var reqUrl = new URL(newUrl);
                let scheme = reqUrl.protocol.toLowerCase();
                if (scheme.indexOf("dfwapp") >= 0) {
                    let httpScheme = scheme.replace("dfwapp", "http");
                    reqUrl.protocol = httpScheme;
                    newUrl = reqUrl.href
                    console.log("newUrl = " + newUrl);
                }
            } catch (error) {
                newUrl = url;
            }
            open.call(this, method, newUrl, async, user, pass);
        };
    })(XMLHttpRequest.prototype.open);
</script>
 -->
<html>
    
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="style-src 'self' 'unsafe-inline' http: https: dfwapps: ftp: wss: file: dynamic: ftps:;script-src 'self' 'unsafe-inline' 'unsafe-eval' http: https: dfwapps: ftp: wss: file: dynamic: ftps:">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, user-scalable=no"/>
    <!-- <link rel="stylesheet" href="dfwapps://static.dongfangfuli.com/family/umi.css"> -->
    <link rel="stylesheet" href="//static.dongfangfuli.com/family/umi002.css">
    <!-- <link rel="stylesheet" href="wss://static.dongfangfuli.com/family/umi.css">
    <link rel="stylesheet" href="file:///static.dongfangfuli.com/family/umi.css">
    <script src="wss://static.dongfangfuli.com/family/umi.js"> </script>
    <script src="file:///static.dongfangfuli.com/family/umi.js"> </script>
    <script src="ftp://static.dongfangfuli.com/family/umi_ftp.js"> </script>
    <script src="ftps://static.dongfangfuli.com/family/umi_ftps.js"> </script> -->
    <script src="//static.dongfangfuli.com/family/umi.js"> </script>

    <script language="javascript">
        showTime();

        window.onload = function() {
        }

        function showUserAgent() {
            document.getElementById('btn15').innerHTML = "userAgent: " + navigator.userAgent
        }

        function showCookie() {
            var cookie = document.cookie
            document.getElementById('btn16').innerHTML = "cookie: " + cookie
        }

        function showTime() {
            const xhr = new XMLHttpRequest();
            //2.初始化  设置请求方法和url
            xhr.open('GET', 'dfwapps://app.dongfangfuli.com/common/openapi?union=df&city=145&client_id=CCPBSs8e8n&reload=1');
            //3.发送
            xhr.send();
            //4. 事件绑定 处理服务端返回的结果
            // on  when  当....的时候
            // readystate 是 xhr 对象中的属性，表示状态 0 1 2 3 4
            xhr.onreadystatechange = function () {
                //判断 （服务端返回了所有的结果）
                if (xhr.readyState === 4) {
                    //判断响应状态码 200 404 403 401 500
                    //2xx 成功
                    if (xhr.status >= 200 && xhr.status < 300) {
                    }
                    console.log(xhr.response)
                }
            }
        }

        function addCookie() {
            const xhr = new XMLHttpRequest();
            //2.初始化  设置请求方法和url
            xhr.open('GET', '/common/openapi?union=df&city=145&client_id=CCPBSs8e8n&reload=1');
            //3.发送
            xhr.send();
            //4. 事件绑定 处理服务端返回的结果
            // on  when  当....的时候
            // readystate 是 xhr 对象中的属性，表示状态 0 1 2 3 4
            xhr.onreadystatechange = function () {
                //判断 （服务端返回了所有的结果）
                if (xhr.readyState === 4) {
                    //判断响应状态码 200 404 403 401 500
                    //2xx 成功
                    if (xhr.status >= 200 && xhr.status < 300) {
                    }
                    console.log(xhr.response)
                }
            }
        }

        function deleteCookie() {
            const xhr = new XMLHttpRequest();
            //2.初始化  设置请求方法和url
            xhr.open('GET', '//app.dongfangfuli.com/common/openapi?union=df&city=145&client_id=CCPBSs8e8n&reload=1');
            //3.发送
            xhr.send();
            //4. 事件绑定 处理服务端返回的结果
            // on  when  当....的时候
            // readystate 是 xhr 对象中的属性，表示状态 0 1 2 3 4
            xhr.onreadystatechange = function () {
                //判断 （服务端返回了所有的结果）
                if (xhr.readyState === 4) {
                    //判断响应状态码 200 404 403 401 500
                    //2xx 成功
                    if (xhr.status >= 200 && xhr.status < 300) {
                    }
                    console.log(xhr.response)
                }
            }
        }
		
        // function dfAppLoadScriptHandler() {
        //     const spts = document.getElementsByTagName("script");
        //     for(var i = 0; i < spts.length; i++) {
        //         let spt = spts[i];
        //         let src = spt.src || "";
        //         if (src != "") {
        //             console.log("get scr = " + src);
        //             spt.src = src
        //         }
        //     }
        // }

	</script>


    <style type="text/css">
        body {
            background-color: #ffffff;
        }

        .moudle_list {
            margin-top: 10px;
            margin-bottom: 10px;
            width: 100%;
            position: relative;

        }
        .moudle_list_item {
            width: 100%;
            margin-top: 5px;
            padding-left: 5px;
            padding-right: -5px;
            padding-top: 10px;
            padding-bottom: 10px;
            background-color: #EFEFEF;
            color: #099FDE;
            font-size: 16px;
            word-break: break-all;
            overflow: hidden;
            border-radius: 5px;
        }


    </style>
</head>
<body>
    <!-- <script src="dfwapps://static.dongfangfuli.com/family/umi.js"> </script> -->
    <div>
     <div class="moudle_list"> DFWUtils
      <div class="moudle_list_item" id="btn15" onclick="showUserAgent()" >userAgent: </div>
	  <div class="moudle_list_item" id="btn16" onclick="showCookie()" >cookie: </div>
      <div class="moudle_list_item" id="btn17" onclick="showTime()" >time: </div>
      <div class="moudle_list_item" id="btn1" onclick="addCookie()" >setCookie </div>
      <div class="moudle_list_item" id="btn2" onclick="deleteCookie()" >delCookie </div>
	 </div>
     <img src="dfwapps://bfd-prd.oss-cn-shanghai.aliyuncs.com/bfd/2022-04-26/3899d69743fb4c3696dce9a4fe417a3f.png"></img>
     <img src="wss://bfd-prd.oss-cn-shanghai.aliyuncs.com/bfd/2022-04-26/3899d69743fb4c3696dce9a4fe417a3f.png"></img>
	</div>
</body>



</html>
